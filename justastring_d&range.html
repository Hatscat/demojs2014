<pre id=P style=background:#000;color:#0f0>
<script>
	C=innerWidth/8|0; // nb de colonnes en fonctions de la largeur de la fenêtre
	R=innerHeight/16|0; // nb de lignes en fonctions de la hauteur de la fenêtre
	z=x=y=v=w=0; // la camera : z, x, y, rotation X, rotation Y

	//z=9
	//x=20
	//y=20

	A=[2,C/3,R/3,5,C/2,R/2,8,C/1.5,R/1.5] // les spheres [z, x, y] // length = 9
	g=[1,1,1] // arg pas beau, poubelle, juste pour les tests : direction des spheres de test

	setInterval(RUN,64); // boucle, mettre 9 à la fin
	// RUN(); //one shoot, pour les tests de rendu
	function RUN () { // à remplacer par une string
		// l'animation :
		for(i=9;i;)A[i-=3]+=g[i/3]=A[i]<-6?1:A[i]>18?-1:g[i/3] // pas terrible, en attendant ^^
		// (A[i+1]-=g[i/3],A[i+2]+=g[i/3])
		// le rendu :
		for(s='',n=C*R;n--;s+=c?'#@HO|+:-. '[p]:'\n') // lettre par lettre : n
			for(r=n/C|0,c=n%C,p=Z=9;Z--;) // raymarching itération : Z
				for(i=9;i;)(a=A[i-=3]-Z-z)*a+(b=A[i+1]-c-x)*b+(d=A[i+2]-r-y)*d*4<C/20*Z&Z<p?p=Z:0; // forme par forme (spheres)
		P.innerHTML=s
	}
</script>